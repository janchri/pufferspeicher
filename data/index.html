<!DOCTYPE HTML>
<html>

<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type">
  <title>Der Super Puffer</title>
  <script>
    const ws = new WebSocket("ws://192.168.178.51/ws", "chat");
    ws.onopen = function (openEvent) {
      console.log("WebSocket ist mit dem " + ws.protocol + " Protokoll ge√∂ffnet");
      ws.send("Hello Server!");
    }
    ws.onmessage = function (messageEvent) {
      var sensors = JSON.parse(messageEvent.data);
      for (let i in sensors.sensor) {
        document.getElementById(sensors.sensor[i].sensor_id).innerHTML = sensors.sensor[i].sensor_tmp;
      }
    };
    ws.onclose = function (closeEvent) {
      console.log("WebSocket wurde geschlossen");
    };
  </script>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <div id="main">
    <h1>Der Super Puffer</h1>
    <div id="puffer">
      <div id="sensors">
        <p class="sensor" , id="289CDB22602206A3"></p>
        <p class="sensor" , id="2842605C602206F6"></p>
        <p class="sensor" , id="28F713436022069B"></p>
        <p class="sensor" , id="281D649A602206D3"></p>
        <p class="sensor" , id="288FCA0F602206FD"></p>
        <p class="sensor" , id="2869D16A6022067B"></p>
        <p class="sensor" , id="2861516D60220697"></p>
        <p class="sensor" , id="28E8A6686022069D"></p>
        <p class="sensor" , id="28D9F3696022068F"></p>
        <p class="sensor" , id="286BA98C60220606"></p>
      </div>
    </div>
  </div>
</body>

</html>